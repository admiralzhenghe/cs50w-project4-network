{% extends "network/layout.html" %}

{% block body %}
    {% if user.is_authenticated %}
        <div class="all-posts-title">All Posts</div>
        <div class="new-post-container">
            <div class="profile-pic">
            </div>
            
            <div class="new-post-form">
                <form action="{% url 'post' %}" method="post">
                    {% csrf_token %}
                    <textarea maxlength="280" rows="2" name="body" placeholder="What's happening?" required></textarea>
                    <div class="submit-container">
                        <input type="submit" value="Post"></input>
                    </div>
                </form>
            </div>
        </div>
    {% endif %}
    {% for post in posts %}
        <div class="post-container">
            <div class="profile-pic">
                PIC
            </div>
            <div class="post-body-container">
                <div class="post-body-top">
                    <b>{{ post.user.first_name }} {{ post.user.last_name }} </b> @{{ post.user.username }} Â· {{ post.timestamp }}
                    <a class="edit" href=""#>Edit</a>
                </div>
                
                <div class="post-body">
                    {{ post.body }}
                </div>

                <div class="post-options">
                    <li>Comment</li>
                    <li>Retweet</li>
                    <li>
                        <a>
                            Like <span>{{ post.likes.all.count }}</span>
                        </a>
                    </li>
                </div>
            </div>

        </div>
    {% endfor %}
{% endblock %}